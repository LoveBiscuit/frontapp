{"version":3,"file":"static/js/561.d11105d7.chunk.js","mappings":"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","sources":["webpack://frontapp/./src/Components/Pages/Profile/Profile.module.css?bfcb","webpack://frontapp/./src/Components/Pages/Profile/ProfileInfo/ProfileInfo.module.css?94e8","webpack://frontapp/./src/Components/Pages/Profile/ProfileInfo/ProfileStatus/ProfileStatus.module.css?3d73","Components/Pages/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.jsx","Components/Pages/Profile/ProfileInfo/ProfileInfo.jsx","webpack://frontapp/./src/Components/Pages/Profile/My Posts/MyPosts.module.css?ad93","webpack://frontapp/./src/Components/Pages/Profile/My Posts/Post/Post.module.css?a0ad","Components/Pages/Profile/My Posts/Post/Post.jsx","Components/Pages/Profile/My Posts/MyPosts.jsx","Components/Pages/Profile/Profile.jsx","Components/Pages/Profile/ProfileContainer.jsx","HOC/withRouter.js","HOC/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Profile_wrapper__0Lfma\"};","// extracted by mini-css-extract-plugin\nexport default {\"banner\":\"ProfileInfo_banner__KSJgX\",\"wrapper\":\"ProfileInfo_wrapper__c-oiI\",\"userPhoto\":\"ProfileInfo_userPhoto__-E8K8\",\"aboutMe\":\"ProfileInfo_aboutMe__0T3Qh\",\"userName\":\"ProfileInfo_userName__lKxVM\",\"userId\":\"ProfileInfo_userId__7eQL2\",\"description\":\"ProfileInfo_description__MzXPs\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ProfileStatus_wrapper__RDBKD\"};","/* eslint-disable jsx-a11y/alt-text */\r\nimport React from 'react';\r\nimport s from './ProfileStatus.module.css'\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport default function ProfileStatusWithHooks(props) {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const enableEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    const disableEditMode = () => {\r\n        setEditMode(false);\r\n\r\n        props.updateStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (event) => {\r\n        setStatus(event.target.value);\r\n    }\r\n\r\n    const onEnter = (e) => {\r\n        if (e.keyCode === 13 && e.shiftKey === false) {\r\n            e.preventDefault();\r\n            disableEditMode();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={s.wrapper}>\r\n                {!editMode\r\n                    ?\r\n                    <div>\r\n                        <span\r\n                            onClick={enableEditMode}\r\n                        >{status}</span>\r\n                    </div>\r\n                    :\r\n                    <div>\r\n                        <input\r\n                            autoFocus\r\n                            onChange={onStatusChange}\r\n                            onKeyDown={onEnter}\r\n                            onBlur={disableEditMode}\r\n                            defaultValue={status}\r\n                        ></input>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","/* eslint-disable jsx-a11y/alt-text */\r\nimport s from './ProfileInfo.module.css';\r\nimport userAvar from '../../../../Assets/Images/userAvatar.jpg';\r\nimport Preloader from './../../../Common/Preloader/Preloader';\r\n// import ProfileStatus from './ProfileStatus/ProfileStatus';\r\nimport ProfileStatusWithHooks from './ProfileStatus/ProfileStatusWithHooks';\r\n\r\nfunction ProfileInfo(props) {\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    } else {\r\n        return (\r\n            <div className={s.wrapper}>\r\n                <img className={s.userPhoto} src={props.profile.photos.small ? props.profile.photos.large : userAvar} />\r\n                <div className={s.aboutMe}>\r\n                    <div className={s.userName}>\r\n                        {props.profile.fullName}\r\n                    </div>\r\n                    <div className={s.userId}>\r\n                        {props.profile.userId}\r\n                    </div>\r\n                    <div className={s.description}>\r\n                        {/* {props.profile.aboutMe} */}\r\n                        <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileInfo;","// extracted by mini-css-extract-plugin\nexport default {\"addPostArea\":\"MyPosts_addPostArea__Ap61B\",\"postTextarea\":\"MyPosts_postTextarea__1Oegq\",\"postButton\":\"MyPosts_postButton__cZgRF\"};","// extracted by mini-css-extract-plugin\nexport default {\"post\":\"Post_post__Zk9Uz\",\"postBody\":\"Post_postBody__MLot5\",\"userPhoto\":\"Post_userPhoto__oDRiE\",\"userName\":\"Post_userName__mhcJN\",\"userPost\":\"Post_userPost__eV60x\",\"likeButton\":\"Post_likeButton__JxTm+\"};","/* eslint-disable jsx-a11y/alt-text */\r\nimport s from './Post.module.css';\r\n\r\nfunction Post(props) {\r\n    return (\r\n        <div className={s.post}>\r\n            <div>\r\n                <img className={s.userPhoto} src=\"https://cdn.shopify.com/s/files/1/0276/9341/6585/files/Sleeping_Cat_Square_600x600@2x.jpg?v=1580223452\" />\r\n            </div>\r\n            <div className={s.postBody}>\r\n                <div className={s.userName}>\r\n                    Test\r\n                    {props.userName}\r\n                </div>\r\n                <div className={s.userPost}>\r\n                    {props.message}\r\n                </div>\r\n                <div className={s.likeButton}>\r\n                    <button>Like ({props.likesCount})</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","/* eslint-disable jsx-a11y/alt-text */\r\nimport React, { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\n\r\nconst MyPosts = React.memo((props) => {\r\n    console.log('rendered');\r\n    // Отображение постов и их сортировка\r\n    let postsElements = [...props.postsData]\r\n        .reverse()\r\n        .map((p, id) => (\r\n            <div className={s.post} key={id}>\r\n                <Post message={p.post} likesCount={p.likesCount} />\r\n            </div>\r\n        ));\r\n\r\n    let addPost = (text, reset, defaultValues) => {\r\n        props.addPost(text);\r\n        reset(defaultValues);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.addPostArea}>\r\n                <MyPostForm addPost={addPost} />\r\n            </div>\r\n            <div className={s.postsArea}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nfunction MyPostForm(props) {\r\n    const [valueCount, setCount] = useState(300);\r\n\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        reset,\r\n        getValues,\r\n        setError,\r\n        formState: { errors },\r\n    } = useForm({});\r\n\r\n    const defaultValues = {\r\n        textarea: \"\",\r\n    };\r\n\r\n    function testError(error) {\r\n        setError('serverError', { type: 'custom', message: error })\r\n    }\r\n\r\n    // getValues().textarea.length \r\n\r\n    return (\r\n        <>\r\n            <form onChange={() => setCount(300 - getValues().textarea.length)}\r\n                onSubmit={handleSubmit(data => {\r\n                    props.addPost(data.textarea, reset, defaultValues);\r\n                    setCount(300);\r\n                })}>\r\n                {errors.serverError && <p>{errors.serverError.message}</p>}\r\n                <div>\r\n                    <textarea className={s.postTextarea} {...register('textarea', {\r\n                        required: 'Textarea is required',\r\n                        pattern: {\r\n                            value: /^(?!\\s*$).+/,\r\n                            message: 'Non-correct value.'\r\n                        },\r\n                        minLength: {\r\n                            value: 3,\r\n                            message: 'The number of characters cannot be less than 3'\r\n                        },\r\n                        maxLength: {\r\n                            value: 300,\r\n                            message: 'The number of characters cannot be more than 300'\r\n                        }\r\n                    })} />\r\n                    {errors.textarea && <p>{errors.textarea.message}</p>}\r\n                </div>\r\n                <div>\r\n                    {Math.sign(valueCount) !== -1 ? valueCount : 0}\r\n                </div>\r\n                <div>\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={() => testError('Серверный еррор')}>\r\n                        Trigger Name Errors\r\n                    </button>\r\n                    <input className={s.postButton} type='submit' />\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MyPosts;","/* eslint-disable jsx-a11y/alt-text */\r\nimport s from './Profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPosts from './My Posts/MyPosts';\r\n\r\nfunction Profile(props) {\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <div className={s.profileInfoWrapper}>\r\n                <h3>Профиль пользователя</h3>\r\n                <ProfileInfo profile={props.userProfile} status={props.userStatus} updateStatus={props.updateStatus} />\r\n            </div>\r\n            <div className={s.postsWrapper}>\r\n                <h3>Мои посты</h3>\r\n                <MyPosts\r\n                    postsData={props.postsData}\r\n                    postTextarea={props.postTextarea}\r\n                    addPost={props.addPost}\r\n                    updateNewPostText={props.updateNewPostText}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","/* eslint-disable jsx-a11y/alt-text */\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addPost, setUserProfile, setUserStatus, getProfile, getStatus, updateStatus } from './../../../Redux/profileReducer';\r\nimport Profile from './Profile';\r\nimport withAuthRedirect from '../../../HOC/withAuthRedirect';\r\nimport withRouter from '../../../HOC/withRouter';\r\nimport { compose } from '@reduxjs/toolkit';\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getProfile(this.props.router.params.profileID, this.props.authorizedUserID);\r\n\r\n        this.props.getStatus(this.props.router.params.profileID, this.props.authorizedUserID);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Profile {...this.props} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    // console.log('state changed');\r\n    return {\r\n        authorizedUserID: state.auth.id,\r\n        userProfile: state.profilePage.userProfile,\r\n        userStatus: state.profilePage.userStatus,\r\n        postsData: state.profilePage.postsData,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    setUserProfile,\r\n    setUserStatus,\r\n    addPost,\r\n    getProfile,\r\n    getStatus,\r\n    updateStatus\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect,\r\n    withRouter\r\n)(ProfileContainer);\r\n","import { useLocation, useNavigate, useParams } from \"react-router-dom\";\r\n\r\n// Wrapper to use react router's v6 hooks in class component(to use HOC pattern, like in router v5)\r\n\r\nexport default function withRouter(Component) {\r\n    function ComponentWithRouterProp(props) {\r\n        let location = useLocation();\r\n        let navigate = useNavigate();\r\n        let params = useParams();\r\n        return (\r\n            <Component\r\n                {...props}\r\n                router={{ location, navigate, params }}\r\n            />\r\n        );\r\n    }\r\n\r\n    return ComponentWithRouterProp;\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nfunction mapStateToPropsRedirect(state) {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport default function withAuthRedirect (Component) {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Navigate to={'/login'} />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    return connect(mapStateToPropsRedirect)(RedirectComponent);\r\n}"],"names":["ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","disableEditMode","updateStatus","className","s","autoFocus","onChange","event","target","value","onKeyDown","e","keyCode","shiftKey","preventDefault","onBlur","defaultValue","onClick","profile","src","photos","small","large","userAvar","fullName","userId","Preloader","userName","message","likesCount","MyPostForm","valueCount","setCount","useForm","register","handleSubmit","reset","getValues","setError","errors","formState","defaultValues","textarea","length","onSubmit","data","addPost","serverError","required","pattern","minLength","maxLength","Math","sign","type","React","console","log","postsElements","postsData","reverse","map","p","id","post","text","userProfile","userStatus","postTextarea","updateNewPostText","ProfileContainer","this","getProfile","router","params","profileID","authorizedUserID","getStatus","mapDispatchToProps","setUserProfile","setUserStatus","compose","connect","state","auth","profilePage","withAuthRedirect","Component","location","useLocation","navigate","useNavigate","useParams","mapStateToPropsRedirect","isAuth","RedirectComponent","to"],"sourceRoot":""}