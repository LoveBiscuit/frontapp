"use strict";(self.webpackChunkfrontapp=self.webpackChunkfrontapp||[]).push([[561],{7561:function(e,s,t){t.r(s),t.d(s,{default:function(){return R}});var r=t(1413),a=t(5671),n=t(3144),o=t(136),i=t(516),u=t(2791),l=t(3531),c=t(8128),d={wrapper:"Profile_wrapper__0Lfma"},p="ProfileInfo_wrapper__c-oiI",f="ProfileInfo_userPhoto__-E8K8",h="ProfileInfo_aboutMe__0T3Qh",x="ProfileInfo_userName__lKxVM",m="ProfileInfo_userId__7eQL2",v="ProfileInfo_description__MzXPs",j=t(5468),_=t(5870),P=t(885),g="ProfileStatus_wrapper__RDBKD",N=t(184);function Z(e){var s=(0,u.useState)(!1),t=(0,P.Z)(s,2),r=t[0],a=t[1],n=(0,u.useState)(e.status),o=(0,P.Z)(n,2),i=o[0],l=o[1];(0,u.useEffect)((function(){l(e.status)}),[e.status]);var c=function(){a(!1),e.updateStatus(i)};return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("div",{className:g,children:r?(0,N.jsx)("div",{children:(0,N.jsx)("input",{autoFocus:!0,onChange:function(e){l(e.target.value)},onKeyDown:function(e){13===e.keyCode&&!1===e.shiftKey&&(e.preventDefault(),c())},onBlur:c,defaultValue:i})}):(0,N.jsx)("div",{children:(0,N.jsx)("span",{onClick:function(){a(!0)},children:i})})})})}var S=function(e){return e.profile?(0,N.jsxs)("div",{className:p,children:[(0,N.jsx)("img",{className:f,src:e.profile.photos.small?e.profile.photos.large:j}),(0,N.jsxs)("div",{className:h,children:[(0,N.jsx)("div",{className:x,children:e.profile.fullName}),(0,N.jsx)("div",{className:m,children:e.profile.userId}),(0,N.jsx)("div",{className:v,children:(0,N.jsx)(Z,{status:e.status,updateStatus:e.updateStatus})})]})]}):(0,N.jsx)(_.Z,{})},k=t(2982),y=t(3896),D={addPostArea:"MyPosts_addPostArea__Ap61B",postTextarea:"MyPosts_postTextarea__1Oegq",postButton:"MyPosts_postButton__cZgRF"},I="Post_post__Zk9Uz",T="Post_postBody__MLot5",C="Post_userPhoto__oDRiE",b="Post_userName__mhcJN",w="Post_userPost__eV60x",A="Post_likeButton__JxTm+";var M=function(e){return(0,N.jsxs)("div",{className:I,children:[(0,N.jsx)("div",{children:(0,N.jsx)("img",{className:C,src:"https://cdn.shopify.com/s/files/1/0276/9341/6585/files/Sleeping_Cat_Square_600x600@2x.jpg?v=1580223452"})}),(0,N.jsxs)("div",{className:T,children:[(0,N.jsxs)("div",{className:b,children:["Test",e.userName]}),(0,N.jsx)("div",{className:w,children:e.message}),(0,N.jsx)("div",{className:A,children:(0,N.jsxs)("button",{children:["Like (",e.likesCount,")"]})})]})]})};function B(e){var s=(0,u.useState)(300),t=(0,P.Z)(s,2),a=t[0],n=t[1],o=(0,y.cI)({}),i=o.register,l=o.handleSubmit,c=o.reset,d=o.getValues,p=o.setError,f=o.formState.errors,h={textarea:""};return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("form",{onChange:function(){return n(300-d().textarea.length)},onSubmit:l((function(s){e.addPost(s.textarea,c,h),n(300)})),children:[f.serverError&&(0,N.jsx)("p",{children:f.serverError.message}),(0,N.jsxs)("div",{children:[(0,N.jsx)("textarea",(0,r.Z)({className:D.postTextarea},i("textarea",{required:"Textarea is required",pattern:{value:/^(?!\s*$).+/,message:"Non-correct value."},minLength:{value:3,message:"The number of characters cannot be less than 3"},maxLength:{value:300,message:"The number of characters cannot be more than 300"}}))),f.textarea&&(0,N.jsx)("p",{children:f.textarea.message})]}),(0,N.jsx)("div",{children:-1!==Math.sign(a)?a:0}),(0,N.jsxs)("div",{children:[(0,N.jsx)("button",{type:"button",onClick:function(){p("serverError",{type:"custom",message:"\u0421\u0435\u0440\u0432\u0435\u0440\u043d\u044b\u0439 \u0435\u0440\u0440\u043e\u0440"})},children:"Trigger Name Errors"}),(0,N.jsx)("input",{className:D.postButton,type:"submit"})]})]})})}var E=u.memo((function(e){console.log("rendered");var s=(0,k.Z)(e.postsData).reverse().map((function(e,s){return(0,N.jsx)("div",{className:D.post,children:(0,N.jsx)(M,{message:e.post,likesCount:e.likesCount})},s)}));return(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:D.addPostArea,children:(0,N.jsx)(B,{addPost:function(s,t,r){e.addPost(s),t(r)}})}),(0,N.jsx)("div",{className:D.postsArea,children:s})]})}));var U=function(e){return(0,N.jsxs)("div",{className:d.wrapper,children:[(0,N.jsxs)("div",{className:d.profileInfoWrapper,children:[(0,N.jsx)("h3",{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,N.jsx)(S,{profile:e.userProfile,status:e.userStatus,updateStatus:e.updateStatus})]}),(0,N.jsxs)("div",{className:d.postsWrapper,children:[(0,N.jsx)("h3",{children:"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"}),(0,N.jsx)(E,{postsData:e.postsData,postTextarea:e.postTextarea,addPost:e.addPost,updateNewPostText:e.updateNewPostText})]})]})},q=t(7193),L=t(7689);var z=t(7781),F=function(e){(0,o.Z)(t,e);var s=(0,i.Z)(t);function t(){return(0,a.Z)(this,t),s.apply(this,arguments)}return(0,n.Z)(t,[{key:"componentDidMount",value:function(){this.props.getProfile(this.props.router.params.profileID,this.props.authorizedUserID),this.props.getStatus(this.props.router.params.profileID,this.props.authorizedUserID)}},{key:"render",value:function(){return(0,N.jsx)("div",{children:(0,N.jsx)(U,(0,r.Z)({},this.props))})}}]),t}(u.Component);var K={setUserProfile:c.$l,setUserStatus:c.ij,addPost:c.q2,getProfile:c.Ai,getStatus:c.lR,updateStatus:c.Nf},R=(0,z.qC)((0,l.$j)((function(e){return{authorizedUserID:e.auth.id,userProfile:e.profilePage.userProfile,userStatus:e.profilePage.userStatus,postsData:e.profilePage.postsData}}),K),q.Z,(function(e){return function(s){var t=(0,L.TH)(),a=(0,L.s0)(),n=(0,L.UO)();return(0,N.jsx)(e,(0,r.Z)((0,r.Z)({},s),{},{router:{location:t,navigate:a,params:n}}))}}))(F)},7193:function(e,s,t){t.d(s,{Z:function(){return f}});var r=t(1413),a=t(5671),n=t(3144),o=t(136),i=t(516),u=t(2791),l=t(3531),c=t(7689),d=t(184);function p(e){return{isAuth:e.auth.isAuth}}function f(e){var s=function(s){(0,o.Z)(u,s);var t=(0,i.Z)(u);function u(){return(0,a.Z)(this,u),t.apply(this,arguments)}return(0,n.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,r.Z)({},this.props)):(0,d.jsx)(c.Fg,{to:"/login"})}}]),u}(u.Component);return(0,l.$j)(p)(s)}}}]);
//# sourceMappingURL=561.d11105d7.chunk.js.map